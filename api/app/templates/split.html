{% extends "base.html" %}

{% block content %}
<div class="container">
    <h2>Разделить PDF</h2>

    {% if session.page_previews %}
        
        <form action="/pdf/split-pdf" method="post">
            <div class="form-group">
                <label for="pages">Введите номера страниц(например, 1-3,5,7-9):</label>
                <input type="text" id="pages" name="pages" required>
            </div>
            <div class="form-group">
                <label for="output_name">Новое имя файла:</label>
                <input type="text" id="output_name" name="output_name" value="{{ session.filename }}_split.pdf">
            </div>
            <button type="submit" class="btn">Разделить PDF</button>
        </form>

        {% from 'preview.html' import pdf_preview %}
        {{ pdf_preview(session.page_previews) }}

    {% else %}
        <a href="/pdf/"><h4>Загрузите Ваш PDF</h4></a>   
    {% endif %}
</div>

<style>
    .pdf-preview {
        margin-bottom: 2rem;
    }
    
    .preview-container {
        display: flex;
        gap: 1rem;
        margin: 1rem 0;
    }
    
    .pdf-thumbnail {
        max-width: 200px;
        border: 1px solid #ddd;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
</style>
{% endblock %}